{"version":3,"sources":["config/history.js","config/axios.js","personalInfo/info.js","todos/actions.js","todos/actionTypes.js","todos/views/addtodo.js","todos/views/todoItem.js","todos/views/todoList.js","todos/views/todos.js","todos/reducer.js","tomatoes/views/CountDown.js","tomatoes/views/handleTomato.js","tomatoes/views/tomatoList.js","tomatoes/views/tomatoes.js","tomatoes/actions.js","tomatoes/actionTypes.js","tomatoes/reducer.js","dataStatistics/polygon.js","dataStatistics/todoItemForHistory.js","dataStatistics/todoHistory.js","dataStatistics/statistics.js","home/home.js","login/login.js","signup/signup.js","Store.js","App.js","serviceWorker.js","index.js"],"names":["publicUrl","createHistory","basename","instance","axios","create","baseURL","headers","t-app-id","t-app-secret","interceptors","request","use","config","xToken","localStorage","getItem","concat","error","console","log","Promise","reject","response","setItem","status","history","push","InfoModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleCancel","setState","visible","state","show","react_default","a","createElement","modal","title","footer","onCancel","account","Component","modifyTodo","item","type","AddTodo","onKeyUp","e","keyCode","description","postAndAdd","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","post","trim","sent","addTodo","assign","data","resource","editEnable","t0","Error","stop","_this2","suffix","icon","onClick","id","input","placeholder","value","onChange","target","connect","dispatch","TodoItem","updateTodo","param","_args","arguments","length","undefined","completed_at","completed","Date","patch","update","toggle","checked","doubleClickText","editTodo","clickEnter","text","deleted","keyDown","preventDefault","deleteItem","itemClass","classNames","todoItem","TextArea","TextEdit","className","onKeyDown","autosize","minRows","maxRows","tooltip","theme","Text","onDoubleClick","es_checkbox","ownProps","objectSpread","editTodoEnable","TodoList","checkCompleted","showCompleted","completedListClass","unCompletedTodos","map","t","key","completedTodos","todoItems","filter","unDeletedTodos","todos","Todos","addtodo","todoList","reducer","action","toConsumableArray","items","timerId","CountDown","curtime","originTime","setInterval","document","time","clearInterval","finish","percent","duration","style","right","confirm","seconds","curMin","Math","floor","curSec","formatTime","React","HandleTomato","keyUp","updateTomatoDetail","ended_at","unfinishedTomato","then","updateTomato","catch","abortTomato","aborted","onFinish","forceUpdate","showConfirm","okText","cancelText","onOk","tpl","es_button","startTomato","_this$props$unfinishe","started_at","timeNow","getTime","parse","views_CountDown","TomatoDetail","format","TomatoList","list","dates","date","idx","tomatoes","finishedTomatoes","slice","tomatoList_TomatoDetail","keys","sort","b","TomatoClock","startClock","addTomato","handleTomato","firstUnFinishedTomato","tomatoList","limitTime","addDays","_","groupBy","tomato","Polygon","getPoints","firstDay","startOfToday","range","startOfDay","finishedCount","forePointY","pointArr","d","x","y","totalFinishedCount","pointPair","join","fill","stroke","strokeWidth","points","TodoItemForHistory","ret","updated_at","TabPane","tabs","TodoHistory","finishedListID","deletedListID","weekday","finishedList","finishedDates","getDay","dailyFinishedTodos","todoItemForHistory","deletedList","deletedDates","dailyDeletedTodos","todoHistoryClass","todoHistory","defaultActiveKey","tab","finishedTodos","deletedTodos","DataStatistics","clickHistory","innerText","showTodoHistory","showTomatoHistory","polygon","dailyTomatoes","dailyTodos","Home","getTomatoList","get","initTomatoes","resources","getTodos","_callee2","_context2","initTodos","getInfo","_callee3","_context3","user","showModal","logout","menu","es_menu","Item","ComboBox","dropdown","overlay","marginLeft","cursor","info","tomatoes_views_tomatoes","views_todos","dataStatistics_statistics","mapDispatchToProps","Login","newState","submit","_this$state","userName","password","errorMessage","errors","_this$state2","Password","Link","to","SignUp","onChangeUserName","onChangePassword","onChangePasswordConfirmation","passwordConfirmation","password_confirmation","reducers","combineReducers","todoReducer","tomatoReducer","createStore","App","es","store","Router","Route","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6045e2ee.chunk.js","sourcesContent":["import { createBrowserHistory  as createHistory } from 'history';\r\n\r\nconst ENV = process.env.NODE_ENV;\r\nlet publicUrl = '';\r\nif(ENV === 'development'){\r\n  publicUrl ='/';\r\n}else if(ENV === 'production'){\r\n  publicUrl = '/tomato-alarm-clock';\r\n}\r\n\r\nexport default createHistory({\r\n  basename: publicUrl\r\n});","/** \r\n * axios 是一个基于promise的HTTP库，可以用在浏览器和 node.js中\r\n*/\r\nimport axios from 'axios';\r\nimport history from './history';\r\n\r\n//const appname = \"innerwang\";\r\nconst appID = \"MNfCKaMASVLM9FtTfZhbTbDr\";\r\nconst appSecret = \"N1JyRcHLuuZR7MQ5Lc16Qh98\";\r\n\r\n//创建一个 axios实例\r\nconst instance = axios.create({\r\n  baseURL: 'https://gp-server.hunger-valley.com/',\r\n  headers: {\r\n    't-app-id': appID,\r\n    't-app-secret': appSecret\r\n  }\r\n})\r\n\r\n// interceptor 拦截器 在请求或响应被 then 或 catch 处理前拦截他们\r\n// 添加请求拦截器\r\ninstance.interceptors.request.use(function (config) {\r\n  //token 存在 localstorage中\r\n  // 在发送请求前做些什么\r\n  const xToken = localStorage.getItem('x-token');\r\n  if(xToken){\r\n    config.headers['Authorization'] = `Bearer ${xToken}`\r\n  }\r\n\r\n  return config;\r\n}, function (error) {\r\n  console.log(error)\r\n  return Promise.reject(error);\r\n});\r\n\r\n// 添加响应拦截器\r\ninstance.interceptors.response.use(function (response) {\r\n  if(response.headers['x-token']){\r\n    localStorage.setItem('x-token',response.headers['x-token'])\r\n  }\r\n  return response;\r\n}, function (error) {\r\n  console.log(error.response)\r\n  // 响应错误处理\r\n  if(error.response.status === 401){\r\n    console.log('响应错误，未授权，重定向....')\r\n    history.push('/login');\r\n  }else if(error.response.status === 422){\r\n    //alert('账号或密码错误')\r\n    //history.push('/login');\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default instance;","import React, { Component } from 'react';\r\nimport {Modal } from 'antd';\r\n\r\nclass InfoModal extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      visible :this.props.show\r\n    }\r\n  }\r\n\r\n  handleCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(){\r\n    this.setState({visible:this.props.show})\r\n  }\r\n\r\n  render(){\r\n    return (\r\n        <Modal\r\n          title=\"个人信息\"\r\n          visible={this.state.visible}\r\n          footer={null}\r\n          onCancel={this.handleCancel}\r\n        >\r\n          <p>姓名： {this.props.account}</p>\r\n        </Modal> \r\n    )\r\n  }\r\n}\r\n\r\nexport default InfoModal;","import * as ActionTypes from './actionTypes.js';\r\n\r\nexport const initTodos = (items)=>({\r\n  type: ActionTypes.INIT_TODO,\r\n  items\r\n})\r\n\r\nexport const addTodo = (item) => ({\r\n  type: ActionTypes.ADD_TODO,\r\n  item\r\n})\r\n\r\nexport const toggleTodo = (id)=>({\r\n  type: ActionTypes.TOGGLE_TODO,\r\n  id\r\n})\r\n\r\nexport const removeTodo = (id)=>({\r\n  type: ActionTypes.REMOVE_TODO,\r\n  id\r\n})\r\n\r\nexport const  editTodoEnable = (id)=>({\r\n  type: ActionTypes.ENABLE_EDIT_TODO,\r\n  id\r\n})\r\n\r\nexport const modifyTodo = (item) => ({\r\n  type: ActionTypes.MODIFY_TODO,\r\n  item\r\n})\r\n\r\n","const INIT_TODO = 'TODO/INIT';\r\nconst ADD_TODO = 'TODO/ADD';\r\nconst TOGGLE_TODO = 'TODO/TOGGLE';\r\nconst REMOVE_TODO = 'TODO/REMOVE';\r\nconst MODIFY_TODO = 'TODO/MODIFY';\r\nconst ENABLE_EDIT_TODO = 'TODO/EDIT_ENABLE';\r\n\r\n\r\nexport {INIT_TODO,ADD_TODO,TOGGLE_TODO,REMOVE_TODO,MODIFY_TODO,ENABLE_EDIT_TODO};","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Input,Icon} from 'antd';\r\nimport  {addTodo} from '../actions.js';\r\nimport axios from '../../config/axios.js';\r\n\r\n\r\nclass AddTodo extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      description: '',\r\n    };\r\n  }\r\n\r\n  onKeyUp = (e) => {\r\n    // enter\r\n    if(e.keyCode === 13 && this.state.description !== ''){\r\n      this.postAndAdd()\r\n    }\r\n  }\r\n\r\n  postAndAdd = async ()=>{\r\n    try{\r\n      const res = await axios.post('todos',{description: this.state.description.trim() })\r\n      this.props.addTodo(Object.assign({},res.data.resource,{editEnable:false}))\r\n      //this.setState({ description: '' })\r\n    }catch(e){\r\n      throw new Error(e)\r\n    }\r\n\r\n    this.setState({ description: '' })\r\n  }\r\n\r\n  render(){\r\n    const { description } = this.state;\r\n    const suffix = description ? <Icon type=\"close-circle\" onClick={()=>this.setState({description :''})} /> : <span/>;\r\n    return (\r\n      <div id=\"addtodo\">\r\n        <Input\r\n          placeholder=\"添加新任务\"\r\n          suffix={suffix}\r\n          value={description}\r\n          onChange={(e)=>this.setState({ description: e.target.value })}\r\n          onKeyUp = {this.onKeyUp}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return ({\r\n    addTodo: (item)=>{\r\n      dispatch(addTodo(item))\r\n    }\r\n  })\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(AddTodo);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport { Checkbox,Input, Icon,Tooltip  } from 'antd';\r\nimport { modifyTodo,editTodoEnable} from '../actions.js';\r\nimport axios from '../../config/axios.js';\r\n\r\nclass TodoItem extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      text : this.props.description\r\n    }\r\n  }\r\n\r\n  updateTodo = async (param={})=>{\r\n    param.completed_at =  param.completed ? new Date() : null;\r\n    try{\r\n      const res = await axios.patch(`todos/${this.props.id}`,param);\r\n      //console.log(res.data.resource)\r\n      this.props.update(Object.assign({},res.data.resource,{editEnable:false}))\r\n    }catch(e){\r\n      throw new Error(e)\r\n    }\r\n  }\r\n\r\n  toggle = (e) =>{\r\n    //console.log(e.target.checked)\r\n    this.updateTodo({completed:e.target.checked})\r\n  }\r\n\r\n  doubleClickText = ()=>{\r\n    this.props.editTodo(this.props.id)\r\n  }\r\n\r\n  clickEnter = ()=>{\r\n    if(this.state.text !== ''){\r\n      // 有数据 更新\r\n      this.updateTodo({description: this.state.text})\r\n    }else{\r\n      // 无数据 删除\r\n      this.updateTodo({deleted: true})\r\n    }\r\n  }\r\n\r\n  keyDown = (e)=>{\r\n    if(e.keyCode === 13){\r\n      console.log('press enter....')\r\n      e.preventDefault();\r\n      this.clickEnter();\r\n    }\r\n  }\r\n\r\n  deleteItem = ()=>{\r\n    this.updateTodo({deleted: true})\r\n  }\r\n\r\n  render(){\r\n    const itemClass = classNames({\r\n      'todoItem': true,\r\n      'editEnable':this.props.editEnable,\r\n      'completed': this.props.completed,\r\n      'deleted': this.props.deleted\r\n    });\r\n\r\n    const {TextArea} = Input;\r\n    const TextEdit = (\r\n      <div className=\"editing\">\r\n        <TextArea placeholder=\"点击回车删除此任务\" \r\n                value={this.state.text} \r\n                className=\"inputBox\"\r\n                onKeyDown = {this.keyDown}\r\n                onChange={e => this.setState({text: e.target.value})}\r\n                autosize={{ minRows: 1, maxRows: 6 }}\r\n                />\r\n        <div className=\"iconWrapper\">\r\n          <Icon type=\"enter\"  className=\"enter\" onClick={this.clickEnter}/> \r\n          <Tooltip title=\"删除任务\"><Icon type=\"delete\" theme=\"filled\" onClick={this.deleteItem}/></Tooltip>\r\n          \r\n        </div>\r\n      </div>\r\n    )\r\n\r\n    const Text = (\r\n        <div className=\"text\" onDoubleClick= {this.doubleClickText}> {this.state.text} </div>\r\n      );\r\n\r\n    return (\r\n      <div id=\"todoItem\" className={itemClass}>\r\n        <Checkbox checked = {this.props.completed} onChange = {this.toggle } className=\"checkBox\"/>\r\n        {this.props.editEnable ? TextEdit : Text }  \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToDispatch = (state,ownProps) =>({\r\n  // 组件的props的变化 会引起组件的重新渲染\r\n  ...ownProps\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return ({\r\n    update: (item) => dispatch(modifyTodo(item)),\r\n    editTodo: (id)=>dispatch(editTodoEnable(id))\r\n  })\r\n}\r\n\r\n\r\nexport default connect(mapStateToDispatch,mapDispatchToProps)(TodoItem);","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport TodoItem from './todoItem.js';\r\nimport {Icon} from 'antd';\r\nimport classNames from 'classnames';\r\n\r\nclass TodoList extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      showCompleted: false\r\n    }\r\n  }\r\n\r\n  get unDeletedTodos(){\r\n    return this.props.todoItems.filter( t => !t.deleted)\r\n  }\r\n\r\n  get unCompletedTodos(){\r\n    return this.unDeletedTodos.filter( t=> !t.completed)\r\n  }\r\n\r\n  get completedTodos(){\r\n    return this.unDeletedTodos.filter( t=> t.completed)\r\n  }\r\n\r\n  checkCompleted = ()=>{\r\n    this.setState({showCompleted: !this.state.showCompleted})\r\n  }\r\n\r\n  render(){\r\n\r\n    const completedListClass = classNames({\r\n      'show': this.state.showCompleted\r\n    })\r\n\r\n    return (\r\n      <div id='todoList'>\r\n\r\n        <div id=\"uncompletedList\">\r\n          {  this.unCompletedTodos.map( t => <TodoItem key={t.id}  {...t} /> )} \r\n        </div> \r\n\r\n        <div className=\"completedHeader\" onClick={this.checkCompleted}>\r\n          <span className=\"text\">\r\n            { this.state.showCompleted ? <Icon type=\"down\" />:<Icon type=\"right\" />}\r\n            最近完成的任务\r\n          </span>\r\n        </div>\r\n        \r\n        <div id=\"completedList\" className={completedListClass}>    \r\n          {  this.completedTodos.map( t => <TodoItem key={t.id}  {...t} /> )} \r\n        </div>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state)=>({\r\n  todoItems: state.todos\r\n})\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(TodoList);","import React, { Component } from 'react';\r\nimport AddTodo from './addtodo.js';\r\nimport TodoList from './todoList.js';\r\n\r\nimport './todos.scss';\r\n\r\nclass Todos extends Component {\r\n \r\n  render(){\r\n    return (\r\n      <div id=\"todos\">\r\n        <AddTodo />\r\n        <TodoList />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Todos;","\r\nimport * as ActionTypes from './actionTypes.js';\r\n\r\nconst reducer = (state=[],action) => {\r\n  switch(action.type){\r\n    case ActionTypes.ADD_TODO: \r\n      return [action.item,...state];\r\n    case ActionTypes.INIT_TODO:\r\n      return action.items;\r\n    case ActionTypes.MODIFY_TODO:\r\n      return state.map(item => {\r\n        if(action.item.id === item.id){\r\n          return action.item;\r\n        }else{\r\n          return item;\r\n        }\r\n      })\r\n    case ActionTypes.ENABLE_EDIT_TODO: \r\n      return state.map( item => {\r\n        if(action.id === item.id){\r\n          return {...item,editEnable:true};\r\n        }else{\r\n          return {...item,editEnable:false};\r\n        }\r\n      })\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n\r\n","import React from 'react';\r\nimport { Icon } from 'antd';\r\n\r\n\r\nconst formatTime= (seconds)=>{\r\n  let curMin = ''+Math.floor(seconds/60)\r\n  let curSec = ''+Math.floor(seconds%60)\r\n  curMin = (curMin.length ===1)?('0'+curMin):curMin\r\n  curSec = (curSec.length ===1)?('0'+curSec):curSec\r\n  return (curMin+' : '+curSec)\r\n}\r\n\r\n\r\nlet timerId = null;\r\n\r\nclass CountDown extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      curtime : this.props.originTime,\r\n    }\r\n  }\r\n\r\n  get time(){\r\n    return formatTime(this.state.curtime)\r\n  }\r\n\r\n  componentDidMount(){\r\n    timerId = setInterval(()=>{\r\n      this.setState({curtime: this.state.curtime-1});\r\n      document.title = `${this.time}-番茄闹钟`;\r\n      if( this.state.curtime < 0){\r\n        this.setState({curtime: 0})\r\n        clearInterval(timerId)\r\n        this.props.finish();\r\n        document.title = '番茄闹钟';\r\n      }\r\n    },1000)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval(timerId)\r\n    console.log('clear timer.....')\r\n  }\r\n\r\n  render(){\r\n    const percent = (this.state.curtime/this.props.duration*100)+'%' ;\r\n    return (\r\n      <div className=\"countDown\">\r\n        <div className=\"timeText\">{this.time}</div>\r\n        <div className=\"progress\" style={{right: percent}}></div>\r\n        <Icon type=\"close-circle\" className=\"closeIcon\" onClick={this.props.confirm}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CountDown;\r\n\r\n\r\n\r\n","import React ,{Component} from 'react';\r\nimport {Button, Input,Modal,Icon } from 'antd';\r\nimport axios from '../../config/axios.js';\r\nimport CountDown from './CountDown.js';\r\n\r\nclass HandleTomato extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      description :''\r\n    }\r\n  }\r\n\r\n  keyUp = (e)=>{\r\n    if(e.keyCode === 13 && this.state.description !== ''){\r\n      console.log('submit input context')\r\n      this.updateTomatoDetail({\r\n        description: this.state.description,\r\n        ended_at: new Date()\r\n      })\r\n      this.setState({description:''})\r\n    }\r\n  }\r\n\r\n  updateTomatoDetail = (param)=>{\r\n    axios.patch(`tomatoes/${this.props.unfinishedTomato.id}`,param).then((res)=>{\r\n      this.props.updateTomato(res.data.resource)\r\n      console.log(res.data.resource)\r\n    }).catch((e)=>{\r\n      console.log('err')\r\n      throw new Error(e)\r\n    })\r\n  }\r\n\r\n\r\n  abortTomato =  ()=> {\r\n    this.updateTomatoDetail({aborted: true})\r\n     document.title = '番茄闹钟';\r\n  }\r\n\r\n  onFinish = ()=>{\r\n    // 强制更新，重新渲染 ，否则state和props都没改变，不会渲染\r\n    this.forceUpdate()\r\n  }\r\n\r\n  showConfirm= ()=> {\r\n    const confirm = Modal.confirm;\r\n    confirm({\r\n      title: '您目前正在一个番茄工作时间中，要放弃这个番茄吗？',\r\n      okText: '确定',\r\n      cancelText: '取消',\r\n      onOk:()=> {\r\n        console.log('click ok');\r\n        this.abortTomato();\r\n      },\r\n      onCancel:()=> {\r\n        console.log('click Cancel');\r\n      },\r\n    });\r\n  }\r\n\r\n  render(){\r\n    let tpl = <div />\r\n    if(this.props.unfinishedTomato === undefined){\r\n      tpl = <Button className=\"startClock\" onClick={this.props.startTomato}>开始番茄</Button>\r\n    }else{\r\n      const {started_at, duration} = this.props.unfinishedTomato\r\n      const timeNow = new Date().getTime()\r\n      if(timeNow - Date.parse(started_at) > duration) {\r\n        tpl = (\r\n          <div className=\"inputWrap\">\r\n            <Input value={this.state.description}\r\n                 onChange= {e => this.setState({description: e.target.value})}\r\n                 onKeyUp = {this.keyUp}\r\n                 placeholder=\"你刚刚完成了什么工作？\"\r\n                 className=\"text\"\r\n                 />\r\n             <Icon type=\"close-circle\" className=\"closeIcon\" onClick={this.showConfirm}/>\r\n          </div>\r\n          \r\n        )\r\n      }else{\r\n        const time = Math.floor((duration - (timeNow - Date.parse(started_at))) /1000);\r\n        tpl=(\r\n          <CountDown originTime={time}\r\n                     finish={this.onFinish} \r\n                     confirm={this.showConfirm}\r\n                     duration={duration/1000}\r\n                     />\r\n        )\r\n      } \r\n    }\r\n\r\n    \r\n    return (\r\n      <div className=\"handleTomato\">\r\n        {tpl}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport default  HandleTomato;","import React from 'react';\r\nimport {format} from 'date-fns';\r\n//声明一个函数组件\r\nconst TomatoDetail = (props)=>{\r\n  return (\r\n    <div className=\"tomatoDetail\">\r\n      <span className=\"period\">{format(new Date(props.started_at), 'HH:mm')}-{format(new Date(props.ended_at), 'HH:mm')} </span>\r\n      <span className=\"jobDetail\">{props.description}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nclass TomatoList extends React.Component{\r\n\r\n  get dates(){\r\n    const dates = Object.keys(this.props.finishedTomatoes); //返回一个由属性组成的数组\r\n    //将数组中的日期进行降序排序 \r\n    return dates.sort((a,b)=>Date.parse(b)-Date.parse(a))\r\n  }\r\n\r\n\r\n  render(){\r\n    const list = this.dates.map((date,idx)=>{\r\n      //只取每一天的最后三个tomato\r\n      const tomatoes = this.props.finishedTomatoes[date].slice(0,3);\r\n      return (\r\n        <div className=\"perDay\" key={idx+1}>\r\n          <div className=\"title\">\r\n            <span className=\"date\">{format(date,'M月DD日')}</span>\r\n            <span className=\"constText\">完成了{tomatoes.length}个番茄</span> \r\n          </div>\r\n          { tomatoes.map(t => <TomatoDetail key={t.id} {...t} />) }\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <div id=\"tomatoList\">\r\n        {list}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default TomatoList;","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport axios from '../../config/axios.js';\r\nimport HandleTomato from './handleTomato.js';\r\nimport  {addTomato,updateTomato} from '../actions.js';\r\nimport TomatoList from './tomatoList.js';\r\nimport _ from 'lodash';\r\nimport {format,addDays} from 'date-fns';\r\n\r\nimport  './tomatoes.scss';\r\n\r\nclass TomatoClock extends Component{\r\n\r\n  get firstUnFinishedTomato(){\r\n    return  this.props.tomatoes.filter( t => !t.description && !t.ended_at && !t.aborted)[0];\r\n  }\r\n\r\n  get finishedTomatoes(){\r\n    const limitTime = Date.parse(addDays(new Date(),-7));\r\n    // 只使用7天内完成的tomatoes\r\n    const finishedTomatoes =  this.props.tomatoes.filter( t => \r\n      t.description && t.ended_at && !t.aborted && ( Date.parse(t.started_at) > limitTime )\r\n    );\r\n    const obj = _.groupBy(finishedTomatoes,(tomato)=>{\r\n      return format(new Date(tomato.started_at), 'YYYY-MM-DD')\r\n    })\r\n    return obj\r\n  }\r\n\r\n  startClock = async ()=>{\r\n    try {\r\n      const res = await axios.post('tomatoes',{duration: 1500000})\r\n      this.props.addTomato(res.data.resource)\r\n    } catch (e) {\r\n      throw new Error(e)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id=\"tomatoes\">\r\n        <HandleTomato unfinishedTomato={this.firstUnFinishedTomato}\r\n                      startTomato={this.startClock}\r\n                      updateTomato={this.props.updateTomato}/>\r\n        <TomatoList finishedTomatoes={this.finishedTomatoes}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) =>({\r\n  tomatoes: state.tomatoes\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addTomato: (tomato={}) => dispatch(addTomato(tomato)),\r\n    updateTomato: (tomato={}) => dispatch(updateTomato(tomato)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(TomatoClock);","import * as ActionTypes from './actionTypes.js';\r\n\r\nexport const initTomatoes = (tomatoes = [])=>({\r\n  type: ActionTypes.INIT_TOMATO,\r\n  tomatoes\r\n})\r\n\r\n\r\nexport const addTomato = (tomato={}) =>({\r\n  type: ActionTypes.ADD_TOMATO,\r\n  tomato\r\n})\r\n\r\n\r\nexport const updateTomato = (tomato={})=>({\r\n  type: ActionTypes.UPDATE_TOMATO,\r\n  tomato\r\n})","const INIT_TOMATO = 'TOMATO/INIT';\r\nconst ADD_TOMATO = 'TOMATO/ADD';\r\nconst TOGGLE_TOMATO = 'TOMATO/TOGGLE';\r\nconst REMOVE_TOMATO = 'TOMATO/REMOVE';\r\nconst UPDATE_TOMATO = 'TOMATO/UPDATE';\r\n\r\n\r\nexport {INIT_TOMATO,ADD_TOMATO,TOGGLE_TOMATO,REMOVE_TOMATO,UPDATE_TOMATO};","import * as ActionTypes from './actionTypes.js';\r\n\r\nconst reducer = (state=[],action)=>{\r\n  switch(action.type){\r\n    case ActionTypes.INIT_TOMATO:\r\n      return action.tomatoes;\r\n    case ActionTypes.ADD_TOMATO:\r\n      return [action.tomato,...state];\r\n    case ActionTypes.UPDATE_TOMATO:\r\n      return state.map( t=>{\r\n        if(t.id === action.tomato.id){\r\n          return action.tomato;\r\n        }else{\r\n          return t;\r\n        }\r\n      })\r\n    default: return state; \r\n  }\r\n}\r\n\r\nexport default reducer;","/** \r\n *  svg 图片大小为 240 * 60\r\n *  画点时，每一天的记录会对应生成两个点\r\n *  p1: 为数据对应的前一个点\r\n *      x1 = x2 -5;\r\n *      y1 = 前一条记录生成的y  \r\n *  p2: 为根据数据生成的点，\r\n *      x2= 240 - 120 /(Date.now() - firstDay ) * ( Date.now() - everyDay);\r\n *      y2= ( 1 - untilEveryDayFinished / totalFinished) * 60;\r\n*/\r\n\r\nimport React from 'react';\r\nimport {startOfToday,startOfDay} from 'date-fns';\r\n\r\nclass Polygon extends React.Component{\r\n\r\n  getPoints = ()=>{\r\n    const dates = Object.keys(this.props.data).sort((a,b)=>{\r\n      return Date.parse(a) - Date.parse(b)\r\n    })\r\n    const firstDay = dates[0];\r\n    const timeNow = startOfToday();\r\n    if(firstDay){\r\n      const range = timeNow.getTime() - startOfDay(new Date(firstDay)).getTime();\r\n      let finishedCount = 0;\r\n      let forePointY = 60 ; //每日的记录有两个点，此点用于存储前一个点的Y坐标\r\n      const pointArr = dates.map(d=>{\r\n        const x = 240 - (timeNow.getTime() - startOfDay(new Date(d)).getTime()) * 120 /range;\r\n        finishedCount = finishedCount + this.props.data[d].length;\r\n        const y =  (1- finishedCount /this.props.totalFinishedCount) * 60;\r\n        const pointPair =  `${x-5} ${forePointY},${x} ${y}`;\r\n        forePointY = y;       \r\n        return pointPair;\r\n      })\r\n      return ['0 60',...pointArr,'240 0','240 60'].join(',');\r\n    }else{\r\n      return \"0 60,120 60,240 60\" \r\n    }\r\n    \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id=\"polygon\">\r\n        <svg >\r\n          <polygon fill=\"rgba(73,238,239,0.1)\" \r\n                   stroke=\"rgba(8,174,175,0.5)\" \r\n                   strokeWidth=\"1\" \r\n                   points={this.getPoints()}\r\n          />\r\n        </svg>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Polygon;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {modifyTodo} from '../todos/actions.js'\r\nimport axios from '../config/axios.js';\r\nimport {format} from 'date-fns';\r\n\r\nclass TodoItemForHistory extends React.Component{\r\n\r\n   updateTodo = async (param)=>{\r\n    try{\r\n      const ret = await  axios.patch(`todos/${this.props.id}`,param);\r\n //   console.log(ret.data.resource)\r\n      this.props.update(Object.assign({},ret.data.resource,{editEnable:false}))\r\n    }catch(e){\r\n      throw new Error(e)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    let action = <span />\r\n    if(this.props.type === 'finished'){\r\n      action = (\r\n        <div className=\"action\">\r\n          <span onClick={e => this.updateTodo({completed: false})}>恢复</span>\r\n          <span onClick={e => this.updateTodo({deleted: true})}>删除</span>\r\n        </div>\r\n      )\r\n    }else if(this.props.type === 'deleted'){\r\n      action = (\r\n        <div className=\"action\">\r\n          <span onClick={e => this.updateTodo({deleted: false})}>恢复</span>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n    <div className=\"detail\">\r\n      <span>{format(new Date(this.props.updated_at) ,'HH : mm')}</span>\r\n      <span>{this.props.description}</span>\r\n      {action}\r\n    </div>)\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n  return {\r\n    update: item => dispatch(modifyTodo(item))\r\n  }\r\n}\r\n\r\nexport default connect(null,mapDispatchToProps)(TodoItemForHistory);","import React from 'react';\r\nimport {connect } from 'react-redux';\r\nimport _ from 'lodash';\r\nimport {format} from 'date-fns';\r\nimport { Tabs } from 'antd';\r\nimport TodoItemForHistory from './todoItemForHistory.js';\r\nimport classNames from 'classnames';\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\nclass TodoHistory extends React.Component{\r\n  get finishedTodos(){\r\n    return this.props.todos.filter( t => t.completed && !t.deleted).sort((a,b)=>\r\n      (Date.parse(b.completed_at) -Date.parse(a.completed_at))\r\n    );\r\n  }\r\n\r\n  get deletedTodos(){\r\n    return this.props.todos.filter( t => t.deleted).sort((a,b)=>\r\n      (Date.parse(b.updated_at) -Date.parse(a.updated_at))\r\n    );\r\n  }\r\n\r\n  get dailyFinishedTodos(){\r\n    //得到按照日期分类的对象\r\n    const obj= _.groupBy(this.finishedTodos,(t)=>{\r\n      return format(new Date(t.completed_at), 'YYYY-MM-DD')\r\n    })\r\n    return obj\r\n  }\r\n\r\n  get dailyDeletedTodos(){\r\n    //得到按照日期分类的对象\r\n    const obj= _.groupBy(this.deletedTodos,(t)=>{\r\n      return format(new Date(t.updated_at), 'YYYY-MM-DD')\r\n    })\r\n    return obj\r\n  }\r\n\r\n  get finishedDates(){\r\n   // 得到日期对应的数组\r\n    return Object.keys(this.dailyFinishedTodos)\r\n  }\r\n\r\n  get deletedDates(){\r\n    return Object.keys(this.dailyDeletedTodos)\r\n  }\r\n\r\n\r\n  render(){\r\n    let finishedListID = 0;\r\n    let deletedListID = 0;\r\n\r\n    const weekday = ['周天','周一','周二','周三','周四','周五','周六']\r\n\r\n    const finishedList = (\r\n      <div>\r\n        { this.finishedDates.map( d =>{\r\n          return (\r\n            <div className=\"finishedDate perdate\" key={++finishedListID}>\r\n              <div className=\"abstract\"> \r\n                <div className=\"day\">\r\n                  <span >{d}</span>\r\n                  <span >{weekday[new Date(d).getDay()]}</span>\r\n                </div>\r\n                <div className=\"count\" >\r\n                  完成了{this.dailyFinishedTodos[d].length}个任务\r\n                </div>\r\n              </div>\r\n              <div className=\"detailList\">\r\n                {this.dailyFinishedTodos[d].map( t => <TodoItemForHistory key={t.id} {...t} type=\"finished\"/>)}\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n\r\n    const deletedList = (\r\n      <div>\r\n        { this.deletedDates.map( d =>{\r\n          return (\r\n            <div className=\"deletedDate perdate\" key={++deletedListID}>\r\n              <div className=\"abstract\"> \r\n                <div className=\"day\">\r\n                  <span >{d}</span>\r\n                  <span >{weekday[new Date(d).getDay()]}</span>\r\n                </div>\r\n                <div className=\"count\">\r\n                  刪除了{this.dailyDeletedTodos[d].length}个任务\r\n                </div>\r\n              </div>\r\n              <div className=\"detailList\">\r\n                {this.dailyDeletedTodos[d].map( t => <TodoItemForHistory key={t.id} {...t} type=\"deleted\"/>)}\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    )\r\n\r\n    const todoHistoryClass = classNames({\r\n      'todoHistory': true,\r\n      'show':this.props.show\r\n    });\r\n\r\n    return (\r\n      <div className={todoHistoryClass} id=\"todoHistory\">\r\n        <Tabs defaultActiveKey=\"1\" type=\"card\">\r\n          <TabPane tab=\"已完成的任務\" key=\"1\">\r\n            {finishedList}\r\n          </TabPane>\r\n          <TabPane tab=\"已刪除的任務\" key=\"2\">\r\n            {deletedList}\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n  return {\r\n    todos: state.todos\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(TodoHistory);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Polygon from './polygon.js'\r\nimport './statistics.scss';\r\nimport _ from 'lodash';\r\nimport {format} from 'date-fns';\r\nimport TodoHistory from './todoHistory.js';\r\n\r\nclass DataStatistics extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      showTodoHistory: false,\r\n      showTomatoHistory: false\r\n    }\r\n  }\r\n\r\n  get finishedTodos(){\r\n    return this.props.todos.filter(t=> t.completed && !t.deleted)\r\n  }\r\n\r\n  get dailyTodos(){\r\n    const obj= _.groupBy(this.finishedTodos,(t)=>{\r\n      return format(new Date(t.completed_at), 'YYYY-MM-DD')\r\n    })\r\n    return obj\r\n  }\r\n \r\n  get finishedTomatoes(){\r\n    //console.log(this.props.tomatoes)\r\n    return this.props.tomatoes.filter( t => t.description && t.ended_at && !t.aborted)  \r\n  }\r\n\r\n  get dailyTomatoes(){\r\n    const obj= _.groupBy(this.finishedTomatoes,(t)=>{\r\n      return format(new Date(t.ended_at), 'YYYY-MM-DD')\r\n    })\r\n    //console.log(obj)\r\n    return obj\r\n  }\r\n\r\n  clickHistory = (e)=>{\r\n    switch(e.target.innerText){\r\n      case '任务历史':\r\n        this.setState({showTodoHistory: !this.state.showTodoHistory})\r\n        break;\r\n      case '番茄历史':\r\n        break;\r\n      default:break;\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div id=\"dataStatistics\">\r\n        <ul>\r\n          <li>\r\n            <div className=\"topic\">统计</div>\r\n            <div className=\"graph\">\r\n              <div className=\"text\">\r\n                <div>一周累计</div>\r\n                <div>0</div> \r\n              </div> \r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div className=\"topic\">目标</div>\r\n            <div className=\"graph\">\r\n              <div className=\"text\">\r\n                <div>今日目标</div>\r\n                <div>0/8</div> \r\n              </div> \r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div className=\"topic\">番茄历史</div>\r\n            <div className=\"graph\">\r\n              <div className=\"text\">\r\n                <div>累计完成番茄</div>\r\n                <div>{this.finishedTomatoes.length}</div> \r\n              </div> \r\n              <Polygon data={this.dailyTomatoes} totalFinishedCount={this.finishedTomatoes.length}/>\r\n            </div>\r\n          </li>\r\n          <li>\r\n            <div className=\"topic\" onClick={this.clickHistory}>任务历史</div>\r\n            <div className=\"graph\">\r\n              <div className=\"text\">\r\n                <div>累计完成任务</div>\r\n                <div>{this.finishedTodos.length}</div> \r\n              </div> \r\n              <Polygon data={this.dailyTodos} totalFinishedCount={this.finishedTodos.length}/>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <TodoHistory show={this.state.showTodoHistory}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps =(state)=>{\r\n  return {\r\n    todos:state.todos,\r\n    tomatoes:state.tomatoes\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(DataStatistics);","import React, { Component } from 'react';\r\nimport {Dropdown,Icon,Menu } from 'antd';\r\nimport axios from '../config/axios.js';\r\nimport history from '../config/history.js';\r\nimport './home.scss';\r\nimport InfoModal from '../personalInfo/info.js';\r\nimport {Todos} from '../todos/';\r\nimport {TomatoClock} from '../tomatoes/';\r\nimport DataStatistics from '../dataStatistics/statistics.js';\r\nimport {initTodos} from '../todos/actions.js';\r\nimport {initTomatoes} from '../tomatoes/actions.js';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nclass Home extends Component{\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      user: {},\r\n      showModal: false\r\n    }\r\n  }\r\n\r\n  async componentWillMount(){\r\n    await this.getInfo()\r\n    await this.getTodos()\r\n    await this.getTomatoList()\r\n  }\r\n\r\n  getTomatoList = async ()=>{\r\n    try {\r\n      const res = await axios.get('tomatoes')\r\n      this.props.initTomatoes(res.data.resources)\r\n    } catch (e) {\r\n      throw new Error(e)\r\n    }\r\n  }\r\n\r\n  getTodos = async ()=>{\r\n    try{\r\n      const res = await axios.get('todos');\r\n      const items = res.data.resources.map( t => Object.assign({},t,{editEnable:false}))\r\n      this.props.initTodos(items)\r\n    }catch(e){\r\n      throw new Error(e)\r\n    }\r\n  }\r\n\r\n  getInfo = async ()=>{\r\n    try{\r\n      const res = await axios.get('me');\r\n      this.setState({user: res.data})\r\n    }catch(e){\r\n      console.log('已重定向到登录页面...');\r\n    }\r\n  }\r\n\r\n  showModal = ()=>{\r\n    this.setState({showModal:true})\r\n  }\r\n\r\n  logout = ()=>{\r\n    localStorage.setItem('x-token','')\r\n    history.push('/login')\r\n  }\r\n\r\n  render() {\r\n    const menu = (\r\n      <Menu >\r\n        <Menu.Item key=\"1\" onClick={this.showModal}><Icon type=\"user\" />个人信息</Menu.Item>\r\n        <Menu.Item key=\"2\" onClick={this.logout}><Icon type=\"logout\" />注销</Menu.Item>\r\n      </Menu>\r\n    );\r\n    \r\n    const ComboBox = (\r\n      <Dropdown overlay={menu}>\r\n        <span style={{ marginLeft: 12,cursor:'pointer'}}>\r\n          {this.state.user && this.state.user.account} <Icon type=\"down\" />\r\n        </span>\r\n      </Dropdown>\r\n    );\r\n\r\n    return (\r\n      <div id=\"home\">\r\n        <header>\r\n          <span className=\"logo\">番茄闹钟</span>\r\n          {ComboBox }\r\n          <InfoModal show={this.state.showModal} account={this.state.user && this.state.user.account}/>\r\n        </header>\r\n        <main>\r\n          <TomatoClock/>\r\n          <Todos />\r\n        </main>\r\n        <DataStatistics />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) =>{\r\n  return {\r\n    todos: state.todos,\r\n    tomatoes: state.tomatoes\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  initTodos,\r\n  initTomatoes\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home);","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { Button } from 'antd';\r\nimport { Input } from 'antd';\r\nimport axios from '../config/axios';\r\nimport history from '../config/history';\r\n\r\nimport './login.scss';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      userName:'',\r\n      password:'',\r\n      errorMessage:''\r\n    }\r\n  }\r\n  \r\n  onChange = (key,value) => {\r\n    const newState = {};\r\n    newState[key] = value;\r\n    this.setState(newState);\r\n    \r\n  }\r\n\r\n  submit = async ()=>{\r\n    const { userName,password } = this.state;\r\n    try {\r\n      await axios.post(\r\n        'sign_in/user', \r\n        {\r\n          account: userName,\r\n          password\r\n        }\r\n      );\r\n      this.setState({\r\n        errorMessage:''\r\n      })\r\n      console.log('login success....')\r\n      history.push('/')\r\n    } catch (error) {\r\n      //console.log(error.response)  \r\n      console.log('login error....')\r\n      this.setState({\r\n        errorMessage:error.response.data.errors\r\n      })\r\n      history.push('/login');\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { userName,password } = this.state;\r\n    return (\r\n      <div id=\"login\">\r\n        <h1>番茄闹钟</h1>\r\n        <div className=\"errorText\">{this.state.errorMessage}</div>\r\n        <Input\r\n          placeholder=\"name\"\r\n          value={userName}\r\n          onChange={(e)=>{this.onChange('userName',e.target.value)}}\r\n        />\r\n        <Input.Password  \r\n          value={password} placeholder=\"password\" \r\n          onChange={(e)=>{this.onChange('password',e.target.value)}}\r\n        />\r\n\r\n        <Button className=\"LoginBtn\" type=\"primary\" onClick = {this.submit}>登录</Button>\r\n        <p><Link to=\"/signup\">创建一个账号</Link></p>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { Button } from 'antd';\r\nimport { Input } from 'antd';\r\nimport axios from '../config/axios.js';\r\nimport history from '../config/history.js';\r\nimport './signup.scss';\r\n\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      userName:'',\r\n      password:'',\r\n      passwordConfirmation:''\r\n    }\r\n  }\r\n\r\n  onChangeUserName = (e) => {\r\n    this.setState({ userName: e.target.value });\r\n  }\r\n\r\n  onChangePassword = (e) => {\r\n    this.setState({password: e.target.value });\r\n  }\r\n\r\n  onChangePasswordConfirmation = (e) => {\r\n    this.setState({passwordConfirmation: e.target.value });\r\n  }\r\n\r\n  submit = async ()=>{\r\n    const { userName,password,passwordConfirmation } = this.state;\r\n    try {\r\n      await axios.post(\r\n        'sign_up/user', \r\n        {\r\n          account: userName,\r\n          password,\r\n          password_confirmation: passwordConfirmation\r\n        }\r\n      );\r\n      history.push('/');\r\n      console.log('signup success...');\r\n    } catch (error) {\r\n      throw new Error(error);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n   // console.log(this.state)\r\n  }\r\n\r\n  render() {\r\n    const { userName,password,passwordConfirmation } = this.state;\r\n    return (\r\n      <div id=\"signUp\">\r\n        <h1>番茄闹钟</h1>\r\n        <Input\r\n          placeholder=\"name\"\r\n          value={userName}\r\n          onChange={this.onChangeUserName}\r\n        />\r\n        <Input.Password  \r\n          value={password} placeholder=\"password\" \r\n          onChange={this.onChangePassword}\r\n        />\r\n        <Input.Password \r\n          value={passwordConfirmation} placeholder=\"confirm password\" \r\n          onChange={this.onChangePasswordConfirmation}\r\n        />\r\n        <Button className=\"signUpBtn\" type=\"primary\" onClick = {this.submit}>注册</Button>\r\n        <p>如果你有账号，请立即 <Link to=\"/login\">登录</Link></p>\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUp;\r\n\r\n\r\n","import {createStore,combineReducers} from 'redux';\r\n\r\nimport {reducer as todoReducer} from './todos';\r\nimport {reducer as tomatoReducer} from './tomatoes';\r\n\r\nconst reducers = combineReducers({\r\n  todos: todoReducer,\r\n  tomatoes: tomatoReducer\r\n})\r\n\r\nexport default createStore(reducers);","import React, { Component } from 'react';\nimport { Router, Route } from \"react-router-dom\";\nimport {Provider}  from 'react-redux';\nimport Home from \"./home/home.js\";\nimport Login from \"./login/login.js\";\nimport SignUp from \"./signup/signup.js\";\nimport history from \"./config/history.js\";\nimport store from './Store.js';\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store = {store}>\n        <Router history={history}>\n          <div>\n            <Route exact path='/' component={Home}/>\n            <Route path='/login' component={Login}/>\n            <Route path='/signup' component={SignUp}/>\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}